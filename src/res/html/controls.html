<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>controls</title>

  <link href="styles/theme.css" rel="stylesheet">
  <link href="styles/controls.css" rel="stylesheet">
  <link href="deps/bootstrap.css" rel="stylesheet">
</head>
<body>
  <script src="deps/bootstrap.bundle.min.js"></script>
  <script src="deps/qwebchannel.js"></script>

  <div class="controls" id="controls">
    <div id="controls-overlay">
    <!-- ==================================================== -->
    <!-- top row -->
    <!-- ==================================================== -->

    <div class="top-row d-flex justify-content-between align-items-center">
      <!-- wrapper positions scroll buttons -->
      <div class="tabs-outer-wrapper">
          <button class="borderless background" id="scroll-left">
            <i class="material-symbols">chevron_left</i>
          </button>

          <!-- hides overflow -->
          <div class="tabs-scrollable">
              <div id="tabs-container">
                <!-- contains tabs -->
              </div>
          </div>

          <button class="borderless background" id="scroll-right">
            <i class="material-symbols">chevron_right</i>
          </button>

          <button class="borderless background" id="addButton">
            <i class="material-symbols">add</i>
          </button>
      </div>

      <div id="space">
        <!-- space for drag and drop -->
      </div>

      <div class="window-controls d-flex">
        <button class="rounded borderless background" id="minButton">
          <i class="material-symbols">minimize</i>
        </button>

        <button class="rounded borderless background" id="maxButton">
          <i class="material-symbols">crop_square</i>
        </button>

        <button class="rounded borderless background" id="closeButton">
          <i class="material-symbols">close</i>
        </button>
      </div>
    </div>

    <!-- ==================================================== -->
    <!-- bottom row -->
    <!-- ==================================================== -->

    <div class="bottom-row surface d-flex justify-content-between align-items-center">
      <div class="page-controls d-flex ms-1">
        <button class="rounded borderless surface" id="backButton">
          <i class="material-symbols">arrow_back</i>
        </button>

        <button class="rounded borderless surface" id="forwardButton">
          <i class="material-symbols">arrow_forward</i>
        </button>

        <button class="rounded borderless surface" id="refreshButton">
          <i class="material-symbols">refresh</i>
        </button>
      </div>

      <div class="address-bar mx-2">
        <form id="address-form">
          <input type="text" id="address-input" class="surface" autofocus autocomplete="off">
        </form>
      </div>

      <!-- top row right side actions block -->
      <!-- TODO add other actions -->
      <div id="status-controls" class="px-3">
        <button 
          class="rounded borderless surface" id="favButton"
          data-bs-toggle="modal" data-bs-target="#favModal"
        >
          <i class="material-symbols">star</i>
        </button>

        <button 
          class="rounded borderless surface" id="pomodoroButton"
          data-bs-toggle="modal" data-bs-target="#pomodoroModal"
        >
          <i class="material-symbols">alarm</i>
        </button>
      </div>
    </div>

    <!-- ==================================================== -->
    <!-- fav modal -->
    <!-- ==================================================== -->

    <div class="modal fade" id="favModal" tabindex="-1" data-bs-backdrop="false">
      <div class="modal-dialog">
        <div class="modal-content d-flex align-items-center justify-content-center">
          <div id="fav-dialog" class="pt-2 pb-1 justify-center">

            <div id="fav-address">
              <div class="px-2"><img id="favIcon"/></div>
              <div>
                <input class="text-input text-bordered accent" type="text" id="fav-title">
              </div>
            </div>

            <div id="fav-controls">
              <button class="bordered surface" id="fav-remove-button" data-bs-dismiss="modal">
                Remove
              </button>

              <button class="bordered surface" id="fav-save-button" data-bs-dismiss="modal">
                Save
              </button>
            </div>

          </div>
        </div>
      </div>
    </div>

    </div>

    <!-- ==================================================== -->
    <!-- pomodoro popover -->
    <!-- ==================================================== -->

    <div class="modal fade" id="pomodoroModal" tabindex="-1" data-bs-backdrop="false">
      <div class="modal-dialog">
        <div class="modal-content d-flex align-items-center justify-content-center">
          <div id="pomodoro-dialog" class="pt-1 justify-center">

            <div class="pomodoro-top">
              <div class="pomodoro-left">
                <div class="d-flex gap-2">
                  <span>Focus: </span>
                  <!-- TODO set min to higher val -->
                  <input type="range" min="1" max="60" value="20" class="slider" id="pomodoro-range">
                  <div id="pomodoro-focus">20 min</div>
                </div>

                <div class="d-flex">
                  <span class="pe-2">Today: </span>
                  <div id="pomodoro-today">
                    <!-- completion circles -->
                  </div>
                </div>
              </div>

              <div id="pomodoro-time">
                20:00
              </div>

              <div id="pomodoro-controls" class="d-flex">
                <button class="rounded borderless background" id="playButton">
                  <i class="material-symbols">play_arrow</i>
                </button>

                <button class="rounded borderless background" id="stopButton">
                  <i class="material-symbols">stop</i>
                </button>
              </div>

              <div class="pomodoro-right">
                <select id="pomodoro-task-select">
                  <!-- tasks here -->
                </select>
              </div>
            </div>

            <div class="pomodoro-progress">
              <div id="pomodoro-bar" class="py-1"></div>
            </div>

          </div>
        </div>
      </div>
    </div>

    <!-- ==================================================== -->
    <!-- other parts -->
    <!-- ==================================================== -->

    <div class="d-flex justify-content-center align-items-center">
      <div>
        <!-- results element will be placed here -->
      </div>
    </div>

  </div>

  <script src="scripts/controls.js"></script>
</body>
</html>